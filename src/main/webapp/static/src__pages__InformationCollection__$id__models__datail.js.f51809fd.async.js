webpackJsonp([4],{"/qCn":function(e,n,t){"use strict";function r(){return"rcNotification_"+P+"_"+q++}function a(e){if(K)return void e(K);A.newInstance({prefixCls:B,transitionName:"move-up",style:{top:U},getContainer:F},function(n){if(K)return void e(K);K=n,e(n)})}function o(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:J,t=arguments[2],r=arguments[3],o={info:"info-circle",success:"check-circle",error:"cross-circle",warning:"exclamation-circle",loading:"loading"}[t];"function"==typeof n&&(r=n,n=J);var c=Q++;return a(function(a){a.notice({key:c,duration:n,style:{},content:i.createElement("div",{className:B+"-custom-content "+B+"-"+t},i.createElement(W.a,{type:o}),i.createElement("span",null,e)),onClose:r})}),function(){K&&K.removeNotice(c)}}var i=t("GiK3"),c=t.n(i),s=t("+6Bu"),u=t.n(s),l=t("bOdI"),d=t.n(l),f=t("Dd8w"),p=t.n(f),m=t("Zrlr"),v=t.n(m),y=t("wxAW"),h=t.n(y),C=t("zwoO"),g=t.n(C),x=t("Pf15"),b=t.n(x),O=t("KSGD"),N=t.n(O),k=t("O27J"),T=t.n(k),w=t("8aSS"),E=t("Erof"),j=t("HW6M"),S=t.n(j),M=function(e){function n(){var e,t,r,a;v()(this,n);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return t=r=g()(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),r.close=function(){r.clearCloseTimer(),r.props.onClose()},r.startCloseTimer=function(){r.props.duration&&(r.closeTimer=setTimeout(function(){r.close()},1e3*r.props.duration))},r.clearCloseTimer=function(){r.closeTimer&&(clearTimeout(r.closeTimer),r.closeTimer=null)},a=t,g()(r,a)}return b()(n,e),h()(n,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"render",value:function(){var e,n=this.props,t=n.prefixCls+"-notice",r=(e={},d()(e,""+t,1),d()(e,t+"-closable",n.closable),d()(e,n.className,!!n.className),e);return c.a.createElement("div",{className:S()(r),style:n.style,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer},c.a.createElement("div",{className:t+"-content"},n.children),n.closable?c.a.createElement("a",{tabIndex:"0",onClick:this.close,className:t+"-close"},c.a.createElement("span",{className:t+"-close-x"})):null)}}]),n}(i.Component);M.propTypes={duration:N.a.number,onClose:N.a.func,children:N.a.any},M.defaultProps={onEnd:function(){},onClose:function(){},duration:1.5,style:{right:"50%"}};var _=M,q=0,P=Date.now(),D=function(e){function n(){var e,t,a,o;v()(this,n);for(var i=arguments.length,c=Array(i),s=0;s<i;s++)c[s]=arguments[s];return t=a=g()(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(c))),a.state={notices:[]},a.add=function(e){var n=e.key=e.key||r();a.setState(function(t){var r=t.notices;if(!r.filter(function(e){return e.key===n}).length)return{notices:r.concat(e)}})},a.remove=function(e){a.setState(function(n){return{notices:n.notices.filter(function(n){return n.key!==e})}})},o=t,g()(a,o)}return b()(n,e),h()(n,[{key:"getTransitionName",value:function(){var e=this.props,n=e.transitionName;return!n&&e.animation&&(n=e.prefixCls+"-"+e.animation),n}},{key:"render",value:function(){var e,n=this,t=this.props,r=this.state.notices.map(function(e){var r=Object(E.a)(n.remove.bind(n,e.key),e.onClose);return c.a.createElement(_,p()({prefixCls:t.prefixCls},e,{onClose:r}),e.content)}),a=(e={},d()(e,t.prefixCls,1),d()(e,t.className,!!t.className),e);return c.a.createElement("div",{className:S()(a),style:t.style},c.a.createElement(w.a,{transitionName:this.getTransitionName()},r))}}]),n}(i.Component);D.propTypes={prefixCls:N.a.string,transitionName:N.a.string,animation:N.a.oneOfType([N.a.string,N.a.object]),style:N.a.object},D.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},D.newInstance=function(e,n){function t(e){s||(s=!0,n({notice:function(n){e.add(n)},removeNotice:function(n){e.remove(n)},component:e,destroy:function(){T.a.unmountComponentAtNode(i),i.parentNode.removeChild(i)}}))}var r=e||{},a=r.getContainer,o=u()(r,["getContainer"]),i=document.createElement("div");if(a){a().appendChild(i)}else document.body.appendChild(i);var s=!1;T.a.render(c.a.createElement(D,p()({},o,{ref:t})),i)};var I=D,A=I,W=t("FC3+"),J=3,U=void 0,K=void 0,Q=1,B="ant-message",F=void 0;n.a={info:function(e,n,t){return o(e,n,"info",t)},success:function(e,n,t){return o(e,n,"success",t)},error:function(e,n,t){return o(e,n,"error",t)},warn:function(e,n,t){return o(e,n,"warning",t)},warning:function(e,n,t){return o(e,n,"warning",t)},loading:function(e,n,t){return o(e,n,"loading",t)},config:function(e){void 0!==e.top&&(U=e.top,K=null),void 0!==e.duration&&(J=e.duration),void 0!==e.prefixCls&&(B=e.prefixCls),void 0!==e.getContainer&&(F=e.getContainer)},destroy:function(){K&&(K.destroy(),K=null)}}},"9fAl":function(e,n,t){"use strict";function r(e){var n=Object(f.c)(l.api.patientList,e);return Object(d.a)(n,{method:"get",headers:p})}function a(e){var n=Object(f.c)(l.api.queryPatient,e);return Object(d.a)(n,{method:"get",headers:p})}function o(e){return Object(d.a)(l.api.addPatient,{method:"post",headers:p,body:u()(e)})}function i(e){return Object(d.a)(l.api.addRec,{method:"post",headers:p,body:u()(e)})}function c(e){var n=Object(f.c)(l.api.setYiyan,e);return Object(d.a)(n,{method:"get",headers:p})}n.c=r,n.d=a,n.a=o,n.b=i,n.e=c;var s=t("Cenh"),u=t.n(s),l=t("bzuE"),d=(t.n(l),t("vLgD")),f=t("0xDb"),p={"Content-type":"application/json;charset=UTF-8"}},Cenh:function(e,n,t){e.exports=t("qkKv")},"P4e/":function(e,n){},UQ5M:function(e,n,t){"use strict";var r=t("vtiu"),a=(t.n(r),t("P4e/"));t.n(a)},WQMQ:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("Biqn"),a=t.n(r),o=(t("UQ5M"),t("/qCn")),i=t("En79"),c=t.n(i),s=t("Ygqm"),u=t.n(s),l=t("9fAl"),d=t("7xWd");t.n(d);n.default={namespace:"Idetail",state:{temp:"",visible:!1,addModel:!1,pid:"",imgSrc:"",index:0,patient:{info:{},historyData:[{date:"",visitTimes:"",diagnosisOfZh:{},diagnosisOfWe:{},diagnosisAndtreatment:{},ohter:{}}]}},subscriptions:{setUp:function(e){var n=e.dispatch;e.history.listen(function(e){var t=e.pathname;if(-1!==t.indexOf("/informationCollection/")){var r=u()("/informationCollection/:id").exec(t)[1];n({type:"query",payload:{pid:r}})}})}},effects:{query:c.a.mark(function e(n,t){var r,a,o,i,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.payload,a=t.call,o=t.put,e.next=4,a(l.d,r);case 4:return i=e.sent,s=i.data,s.pid=r.pid,e.next=9,o({type:"querySuccess",payload:s});case 9:case"end":return e.stop()}},e,this)}),saveYan:c.a.mark(function e(n,t){var r,a,i,s,u,d,f,p;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.payload,a=t.call,i=t.put,s=t.select,e.next=4,s(function(e){return e.Idetail});case 4:return u=e.sent,d=u.temp,e.next=8,a(l.e,{id:d});case 8:f=e.sent,p=f.data,200===p.status?o.a.success("\u5df2\u6210\u529f\u4fdd\u5b58\u4e3a\u533b\u6848"):o.a.error("\u6dfb\u52a0\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5");case 11:case"end":return e.stop()}},e,this)}),addRec:c.a.mark(function e(n,t){var r,a,i,s,u,f,p,m;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.postData,a=t.call,i=t.put,s=t.select,e.next=4,s(function(e){return e.Idetail});case 4:return u=e.sent,f=u.pid,r.id=f,e.next=9,a(l.b,r);case 9:if(p=e.sent,m=p.data,!m.success){e.next=19;break}return o.a.success("\u6dfb\u52a0\u6210\u529f"),e.next=15,i(d.routerRedux.push({pathname:"/informationCollection/"+f}));case 15:return e.next=17,i({type:"addModelOp",payload:{f:!1}});case 17:e.next=20;break;case 19:o.a.success(m.error);case 20:case"end":return e.stop()}},e,this)})},reducers:{querySuccess:function(e,n){var t=n.payload;return a()({},e,{patient:t,pid:t.pid})},addModelOp:function(e,n){var t=n.payload;return a()({},e,{addModel:t.f})},showImg:function(e,n){var t=n.payload;return a()({},e,{visible:t.visible,imgSrc:t.imgSrc})},changIndex:function(e,n){var t=n.payload;return a()({},e,{index:t.index})},setTempData:function(e,n){var t=n.payload;return a()({},e,{temp:t.temp})}}}},qkKv:function(e,n,t){var r=t("FeBl"),a=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}}});